function finishTest(){
  clearInterval(timerInterval);
  exerciseEl.innerHTML='';
  const percent = Math.round((correct / TOTAL) * 100);
  let recommendation = '';

  if(percent < 30){
    recommendation = (levelEl.value > 1) 
      ? `Nur ${percent}% richtig. Versuche die Stufe ${parseInt(levelEl.value)-1} zum Üben.`
      : `Nur ${percent}% richtig. Bleibe auf Stufe 1 und übe weiter!`;
  } else if(percent < 80){
    recommendation = `${percent}% richtig. Gut! Übe noch einmal auf dieser Stufe.`;
  } else {
    recommendation = `${percent}% richtig! Super! Probiere die nächste Stufe.`;
  }

  feedbackEl.innerHTML = `Ende! Richtig: ${correct} / ${TOTAL}, Falsch: ${wrong}<br><strong>${recommendation}</strong>`;
  startBtn.disabled=false;
  settingsEl.classList.remove('small');

  chartEl.style.display='block';
  new Chart(chartEl, {
    type:'pie',
    data:{
      labels:['Richtig','Falsch'],
      datasets:[{
        label:'Aufgaben',
        data:[correct,wrong],
        backgroundColor:['#4CAF50','#F44336']
      }]
    },
    options:{ responsive:true }
  });
}
